# Commands 介绍文档

本目录存放了专用于执行复杂任务的命令定义文件（TOML 格式）。这些命令通过定义特定的角色、工作流和执行约束，引导 AI 完成高质量的任务。

## 1. 论文逆向工程 (readbook.toml)

**描述**: 对学术论文进行深度逆向拆解，生成设计画布、逆向提纲与论证挖掘文档。

### 🎯 核心目标
将论文视为一个“说服系统”，通过逆向工程提取其底层的逻辑骨架和写作心法，为学术仿写提供高清蓝图。

### 📄 生成文档
执行该命令后，将强制生成以下三份独立的 Markdown 文件：
*   **设计画布 (`论文名_设计画布.md`)**: 宏观审计论文的逻辑一致性，分析研究要素（RQ、Gap、Method 等）。
*   **逆向提纲 (`论文名_逆向提纲.md`)**: 将论文拆解为不同说服密度的 Layer，提供逐句动作分析及完形填空模板。
*   **论证挖掘 (`论文名_论证挖掘.md`)**: 使用图尔敏模型拆解论证的防御结构（主张、依据、正当理由、限定词、反驳预判）。

### 🛠️ 执行规范
*   **强覆盖**: 必须覆盖用户提供的所有章节。
*   **中文解读**: 除引用和模板外，所有逻辑分析、心法说明必须使用中文。
*   **最小配额**: 关键章节（引言、方法、结果等）必须达到指定的分析深度。

---

## 2. 自动重命名 PDF (renamepdf.toml)

**描述**: 根据 PDF 文件的标题元数据自动重命名文件。

### 🎯 核心目标
通过提取 PDF 内部的标题信息，清理非法字符，并自动执行文件系统重命名操作，保持文件库整洁。

### 🛠️ 执行规范
*   **全自动化**: 直接调用工具执行，不输出脚本代码。
*   **静默处理**: 除非发生致命错误，否则保持过程静默。
*   **非法字符处理**: 自动将标题中的 `/ \ : * ? " < > |` 等字符替换为 `-`。

---

## 3. Word 转 LaTeX (wordtotex.toml)

**描述**: 将 Word 复制的内容整理为标准的 LaTeX 排版格式并保存。

### 🎯 核心目标
解决从 Word 到 LaTeX 迁移过程中的排版痛点，自动识别标题层级、数学公式、列表环境并处理转义字符。

### 🛠️ 执行规范
*   **直接写入**: 转换后的结果直接通过 `write_file` 保存为指定文件。
*   **纯净输出**: 写入文件的内容仅包含 LaTeX 代码，不含 Markdown 代码块标记。
*   **结构化识别**: 自动处理 `\section`、数学环境及列表环境。

---

## 4. 论文段落仿写映射 (mapping.toml)

**描述**: 在同领域同思想框架前提下，建立论文段落级仿写映射关系。

### 🎯 核心目标
帮助用户在学术写作中找到逻辑、结构或范式上的参照物，而非简单的文字模仿。确保借鉴的学术严谨性和逻辑自洽。

### 📄 生成文档
执行该命令后，将生成一个名为 `{{args}}_mapping.md` 的映射结果文件，包含详细的映射条目。

### 🛠️ 执行规范
*   **同领域同思想框架**: 严格检查领域和思想框架的一致性，不满足条件则不建立映射。
*   **四大映射维度**: 逐一检查概念指纹、场景特征、功能模块互补性和实验范式复刻价值。
*   **结构化输出**: 映射结果必须包含源段落、目标论文、目标段落、映射类型、映射理由（Mapping-Rationale）和映射范围（Mapping-Scope）。
*   **文件化输出**: 所有映射结果必须写入文件，禁止终端直接输出。
